<!DOCTYPE html>
<html lang="de"><head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"> 
	<meta charset="utf-8">
	<title>Punktetafel</title>
	<link rel="stylesheet" href="screen.css" media="screen">
	<style>
	</style>
</head>
<body>

<div class="table">
	
	<div class="row">
		<div class="red pointfield" >
			<span class="points" id="red_points">0</span>
		</div>

		<div class="blue pointfield">
			<span class="points" id="blue_points">0</span>
		</div>
	</div>
	
	<div class="row">
		<div class="red pointfield" >
			<span class="warntime" id="red_warn">-</span>
		</div>

		<div class="blue pointfield">
			<span class="warntime" id="blue_warn">-</span>
		</div>
	</div>
</div>
<div class="table">
	<div class="row">
		<div class="timer">
			<span id="timer">0:00</span><span id="pause_text" class="pause_text"></span>
		</div>
	</div>
	
	<div class="row">
		<div id="history" class="hist">Verlauf: </div>
   </div>
</div>

<div class="table">
   <div class="row">
   	<div class="cell yellow">
   		<button id="warnred" class="red longbutton" onclick="warnRed()">Verwarnung</button>
			<button id="stopwarnred" class="red longbutton" onclick="stopwarnRed()">Stop Verwarnung</button>
   	</div>
   	<div class="cell yellow">
			<button id="warnblue" class="blue longbutton" onclick="warnBlue()">Verwarnung</button>
			<button id="stopwarnblue" class="blue longbutton" onclick="stopwarnBlue()">Stop Verwarnung</button>
   	</div>
   </div>

   <div class="row">
   	<div class="cell yellow">
			<button id="plus1red" class="red button" onclick="increaseRed(1)">+1</button>
			<button id="plus2red" class="red button" onclick="increaseRed(2)">+2</button>
			<button id="plus4red" class="red button" onclick="increaseRed(4)">+4</button>
			<button id="plus5red" class="red button" onclick="increaseRed(5)">+5</button>
   	</div>
   	<div class="cell yellow">
			<button id="plus1blue" class="blue button" onclick="increaseBlue(1)">+1</button>
			<button id="plus2blue" class="blue button" onclick="increaseBlue(2)">+2</button>
			<button id="plus4blue" class="blue button" onclick="increaseBlue(4)">+4</button>
			<button id="plus5blue" class="blue button" onclick="increaseBlue(5)">+5</button>
   	</div>
   </div>

   <div class="row">
   	<div class="cell yellow">
			<button id="minus1red" class="red button" onclick="increaseRed(-1)">-1</button>
			<button id="minus2red" class="red button" onclick="increaseRed(-2)">-2</button>
			<button id="minus4red" class="red button" onclick="increaseRed(-4)">-4</button>
			<button id="minus5red" class="red button" onclick="increaseRed(-5)">-5</button>
   	</div>
   	<div class="cell yellow">
			<button id="minus1blue" class="blue button" onclick="increaseBlue(-1)">-1</button>
			<button id="minus2blue" class="blue button" onclick="increaseBlue(-2)">-2</button>
			<button id="minus4blue" class="blue button" onclick="increaseBlue(-4)">-4</button>
			<button id="minus5blue" class="blue button" onclick="increaseBlue(-5)">-5</button>
   	</div>
   </div>
</div>
<br>
<div class="table">
   <div class="row">
	   <div class="cell yellow">
		   <button id="start" onclick="startTimer()">Start</button>
			<button id="pause" onclick="pauseTimer()" style="visibility: hidden;">Pause</button>
			<button id="resume" onclick="resumeTimer()" style="visibility: hidden;">Weiter</button>
			<button id="reset" class="reset" onclick="resetTimer()" style="visibility: hidden;">Reset (Rundenende)</button>
			<button id="next" class="reset" onclick="nextFight()">neuer Kampf</button>
   	</div>
   </div>

</div>


<script type="text/javascript">
        document.getElementById('resume').style.visibility = 'hidden';
        document.getElementById('pause').style.visibility = 'hidden';
        document.getElementById('reset').style.visibility = 'hidden';
        
        //Punktetafel  
        function increaseRed(number){
        		document.getElementById('red_points').innerHTML = parseInt(document.getElementById('red_points').innerHTML) + number;
        		document.getElementById('history').innerHTML = document.getElementById('history').innerHTML + '<span class="red history">'+number+'</span>';
        }
        function increaseBlue(number){
        		document.getElementById('blue_points').innerHTML = parseInt(document.getElementById('blue_points').innerHTML) + number;
        		document.getElementById('history').innerHTML = document.getElementById('history').innerHTML + '<span class="blue history">'+number+'</span>';

        }
	function warnRed(number){
        	document.getElementById('red_warn').innerHTML = 0;
        	document.getElementById('history').innerHTML = document.getElementById('history').innerHTML + '<span class="red history">V</span>';
        }
	function warnBlue(number){
        	document.getElementById('blue_warn').innerHTML = 0;
        	document.getElementById('history').innerHTML = document.getElementById('history').innerHTML + '<span class="blue history">V</span>';
        }
	function stopwarnRed(number){
        	document.getElementById('red_warn').innerHTML = '-';
        	document.getElementById('history').innerHTML = document.getElementById('history').innerHTML + '<span class="red history">-V</span>';
        }
	function stopwarnBlue(number){
        	document.getElementById('blue_warn').innerHTML = '-';
        	document.getElementById('history').innerHTML = document.getElementById('history').innerHTML + '<span class="blue history">-V</span>';
        }



        function nextFight()
        {
          location.reload();
		  }
        function pauseTimer(){
        		document.getElementById('pause_text').innerHTML = 'Pause';
        		document.getElementById('pause').style.visibility = 'hidden';
        		document.getElementById('resume').style.visibility = 'visible';
        }
        function resumeTimer()
        {
        		document.getElementById('pause_text').innerHTML = '';
        		document.getElementById('pause').style.visibility = 'visible';
        		document.getElementById('resume').style.visibility = 'hidden';
        }
        function resetTimer()
        {
        		document.getElementById('timer').innerHTML = '0:00';
        		document.getElementById('pause_text').innerHTML = 'Pause';
        		document.getElementById('pause').style.visibility = 'hidden';
        		document.getElementById('resume').style.visibility = 'visible';
        		document.getElementById('history').innerHTML = document.getElementById('history').innerHTML + '<span class="history black">n.R.</span>';
        }


        function startTimer() {
          document.getElementById('start').style.visibility = 'hidden';
          document.getElementById('reset').style.visibility = 'visible';

          
          var presentTime = document.getElementById('timer').innerHTML;
          var timeArray = presentTime.split(/[:]+/);
          var m = timeArray[0];
          if (document.getElementById('pause_text').innerHTML != 'Pause'){
          		var s = checkSecond((parseInt(timeArray[1]) + 1));
          		document.getElementById('pause').style.visibility = 'visible';
          		var timeout_blue = document.getElementById('blue_warn').innerHTML;		
					if(timeout_blue != '-')
					{
						document.getElementById('blue_warn').innerHTML = parseInt(timeout_blue) + 1;
					}
					var timeout_red = document.getElementById('red_warn').innerHTML;
					if(timeout_red != '-')
					{
						document.getElementById('red_warn').innerHTML = parseInt(timeout_red) + 1;
	  				}
          }
          else
          {
          		var s = checkSecond((parseInt(timeArray[1]) + 0));
          }
          

          var run = 1;

          if (m==0 && s == 00){
                //location.reload();
                //run=0;
                //alert('Time over!');
                //document.getElementById('timer').innerHTML ='Timer over!';
                //startReverseTimer();
            }
            else{
                run=1;
            }
          if(s==59){m=parseInt(m)+1}
          document.getElementById('timer').innerHTML = m + ":" + s;
          setTimeout(startTimer, 1000);

        }

        function checkSecond(sec) {
          if (sec < 10 && sec >= 0) {sec = "0" + sec}; // add zero in front of numbers < 10
          if (sec > 59) {sec = "00"};
  //        if (sec > 59) {sec = "0"};
          return sec;
        }
    </script>



</body></html>
